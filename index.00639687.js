const t=document.querySelector(".button_all"),e=document.querySelector(".films_all"),a=document.querySelector(".backdrop"),n=document.querySelector(".modal_film-info"),i=document.querySelector(".modal__button--close");t.addEventListener("click",(async()=>{try{const t=await async function(){const t=["https://api.themoviedb.org/3/trending/all/day?api_key=024bf82d4805f650033dc69997860333","https://api.themoviedb.org/3/genre/movie/list?api_key=024bf82d4805f650033dc69997860333&language=en-US"].map((async t=>(await fetch(`${t}`)).json()));return await Promise.all(t)}();console.log(t);const a=function(t){const e=t[0].results,a=t[1].genres;return console.log(e),console.log(a),e.map((({original_title:t,poster_path:e,original_name:n,genre_ids:i,release_date:o,first_air_date:s,id:l})=>`<div class="film-card">\n        <img src="https://image.tmdb.org/t/p/w500${e}" alt="" loading="lazy"  data-id=${l} />\n        <div class="info">\n          <p class="film-name">${t||n}\n          </p>\n          <p class="info-item">\n            <b>${a.reduce(((t,e)=>(i.includes(e.id)&&t.push(` ${e.name}`),t)),[])}</b>\n            <b>|</b>\n            <b>${o?o.slice(0,4):s.slice(0,4)}</b>\n          </p>\n        </div>\n      </div>`)).join("")}(t);e.insertAdjacentHTML("afterbegin",a)}catch(t){console.log(t.message)}})),e.addEventListener("click",(function(t){if(n.innerHTML="",console.log(t.target),console.log(t.currentTarget),!t.target.dataset.id)return;console.log(t.target.dataset.id),async function(t){const e=`https://api.themoviedb.org/3/movie/${t}?api_key=024bf82d4805f650033dc69997860333&language=en-US`;console.log(e);const a=await fetch(e);return await a.json()}(t.target.dataset.id).then((t=>{console.log(t);const e=function(t){const{vote_average:e,vote_count:a,genres:n,original_title:i,poster_path:o,original_name:s,popularity:l,overview:c}=t;return console.log(n),`<div class="about_film-card">\n        <img src="https://image.tmdb.org/t/p/w500${o}" class="about_film-img" alt="" loading="lazy"  />\n        <div class="about_film-info">\n          <h1 class="about_film-name">${i||s}\n          </h1>\n          <div class="about_film-item">\n          <p class="about_film-text">Vote / Votes</p>\n          <b class="about_film-date">${e} / ${a}</b>\n          </div>\n          <div class="about_film-item">\n          <p class="about_film-text">Popularity</p>\n          <b class="about_film-date">${l}</b>\n          </div>\n          <div class="about_film-item">\n          <p class="about_film-text">Original Title</p>\n          <b class="about_film-date">${i||s}</b>\n          </div>\n          <div class="about_film-item">\n          <p class="about_film-text">Genre</p>\n          <b class="about_film-date">${n?n.map((t=>t.name)):" "}</b>\n          </div>\n          <h2 class="about_film-pretitle">ABOUT</h2>\n          <p class="about_film-overview">${c}</p>\n        </div>\n      </div>`}(t);a.classList.remove("is-hidden"),n.insertAdjacentHTML("beforeend",e)})).catch((t=>console.log(t)))})),i.addEventListener("click",(function(){a.classList.add("is-hidden")}));
//# sourceMappingURL=index.00639687.js.map
